(()=>{"use strict";const e=document.querySelector("img");let t="tokyo",n="C";const o=document.getElementById("searchBtn"),i=document.querySelector("input"),c=document.getElementById("weatherInfo"),r=document.getElementById("cityTemp"),a=document.getElementById("cityName"),d=document.getElementById("changeMode");async function m(){try{const o=await fetch("http://api.openweathermap.org/data/2.5/weather?q="+t+"&APPID=7293fbd3f556bdc7f99dfbe674fd9cf3&units=metric",{mode:"cors"});!function(t){const o=t.weather[0].icon;e.src="http://openweathermap.org/img/wn/"+o+"@2x.png",console.log(t),d.onclick=function(){if("C"===n){n="F",r.innerText=Math.round(9*t.main.temp/5+32)+"°F",console.log("now F");const e=Math.round(9*t.main.feels_like/5+32)+"°F";c.innerText=`Feels like ${e} | ${t.weather[0].description} | Humidity: ${t.main.humidity}%`}else{n="C",r.innerText=Math.round(t.main.temp)+"°C",console.log("now C");const e=Math.round(t.main.feels_like)+"°C";c.innerText=`Feels like ${e} | ${t.weather[0].description} | Humidity: ${t.main.humidity}%`}},a.innerText=`${t.name}, ${t.sys.country}`,r.innerText=Math.round(t.main.temp)+"°C";const i=Math.round(t.main.feels_like)+"°C";c.innerText=`Feels like ${i} | ${t.weather[0].description} | Humidity: ${t.main.humidity}%`}(await o.json())}catch(e){console.error("There has been a problem with your fetch operation:",e),alert("Could not find that city. Please try in the form 'city' or 'city,country code'\n                              Example: London,GB")}}onload=m,o.addEventListener("click",(()=>{t=i.value.split(" ").join("+"),n="C",m()})),i.addEventListener("keypress",(e=>{"Enter"===e.key&&(e.preventDefault(),o.click())}))})();